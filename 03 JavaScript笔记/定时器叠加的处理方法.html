<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>定时器叠加的处理方法</title>
    
    <style type="text/css">
    	
    	body {
    		position: relative;
    	}
		#dan {
			position: absolute;
			top: 50px;
		}
    	
    </style>
    
  
  	<script type="text/javascript">
		window.onload = function(){
			var btn = document.getElementById("btn");
			var dan = document.getElementById("dan");
			var timer;//先声明timer变量，以防止第一次点击的时候报错
//			解决定时器叠加的思路:在设置定时器之前,先清理定时器
//			给按钮家单击事件
			btn.onclick = function(){
				clearInterval(timer);
//				设置定时器,每隔一秒钟就变化一次left
				timer = setInterval(function(){	
//					获得旧的left
					var old_left = dan.style.left;	
//					获得新的left
					var new_left = parseInt(old_left) + 5;
//					赋值回去
					dan.style.left = new_left + "px";	
				},50);										
				
			}
		}
		
  	</script>
	
</head>
<body>
	
	<input type="button" name="" id="btn" value="点我啊！！！" />
	
	<br />

	<!--<img src="01.jpg" alt="" id="img"/>-->
	<!--<div id="hd" style="width: 300px; height: 260px;"></div>-->
	<img src="dan.gif" alt="" id="dan" style="left: 0px;"/>

</body>
</html>